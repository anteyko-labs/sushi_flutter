# üç£ SushiRoll Express - –†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

## üìä –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **—Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** –∏–∑ CSV —Ñ–∞–π–ª–æ–≤, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—ã—Ö –≤ –ø–∞–ø–∫–µ `assets/data/`:

### üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

```
assets/data/
‚îú‚îÄ‚îÄ rolls.csv          # –†–æ–ª–ª—ã —Å —Ü–µ–Ω–∞–º–∏ –∏ —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å—é
‚îú‚îÄ‚îÄ sets.csv           # –°–µ—Ç—ã —Å —Ü–µ–Ω–∞–º–∏ –∏ —Å–∫–∏–¥–∫–∞–º–∏
‚îú‚îÄ‚îÄ set_composition.csv # –°–æ—Å—Ç–∞–≤ –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ç–∞
‚îî‚îÄ‚îÄ ingredients.csv    # –ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã (–¥–ª—è –±—É–¥—É—â–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
```

### üçô –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö —Ä–æ–ª–ª–æ–≤ (rolls.csv)

```csv
id;name;sale_price;cost
1;–ö–∞–ª–∏—Ñ–æ—Ä–Ω–∏—è;96;94.59
2;—Ñ–∏–ª–∞–¥–µ–ª—å—Ñ–∏—è;203;203.21
3;—Å–ª–∞–¥–∫–∏–π —Ä–æ–ª–ª;129;129.13
...
```

**–ü–æ–ª—è:**
- `id` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ä–æ–ª–ª–∞
- `name` - –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–æ–ª–ª–∞
- `sale_price` - —Ü–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏
- `cost` - —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å

### üéÅ –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö —Å–µ—Ç–æ–≤ (sets.csv)

```csv
id,name,cost_price,retail_price,set_price,discount_percent,gross_profit,margin_percent
1,–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π,453.32,1685,1360,19.0,907.0,200.0
2,–ë—é–¥–∂–µ—Ç–Ω—ã–π,203.62,960,610,36.0,406.0,200.0
...
```

**–ü–æ–ª—è:**
- `id` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–µ—Ç–∞
- `name` - –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–µ—Ç–∞
- `cost_price` - —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å
- `retail_price` - —Ä–æ–∑–Ω–∏—á–Ω–∞—è —Ü–µ–Ω–∞
- `set_price` - —Ü–µ–Ω–∞ —Å–µ—Ç–∞ —Å–æ —Å–∫–∏–¥–∫–æ–π
- `discount_percent` - –ø—Ä–æ—Ü–µ–Ω—Ç —Å–∫–∏–¥–∫–∏

### üîó –°–æ—Å—Ç–∞–≤ —Å–µ—Ç–æ–≤ (set_composition.csv)

```csv
set_id,roll_id,roll_name
1,1,–ö–∞–ª–∏—Ñ–æ—Ä–Ω–∏—è
1,2,–§–∏–ª–∞–¥–µ–ª—å—Ñ–∏—è
2,5,–û–≤–æ—â–Ω–æ–π —Ä–æ–ª–ª
...
```

**–ü–æ–ª—è:**
- `set_id` - ID —Å–µ—Ç–∞
- `roll_id` - ID —Ä–æ–ª–ª–∞
- `roll_name` - –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–æ–ª–ª–∞

## üöÄ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö

```dart
// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–∞
await CsvDataService.initialize();

// –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Ä–æ–ª–ª–æ–≤
final rolls = await CsvDataService.getRolls();

// –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Å–µ—Ç–æ–≤
final sets = await CsvDataService.getSets();
```

### 2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ AppRoll

```dart
// –ò–∑ ExcelRoll –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è AppRoll
final appRoll = AppRoll(
  id: excelRoll.id,
  name: excelRoll.name,
  price: excelRoll.salePrice,
  description: '–°–≤–µ–∂–∏–π —Ä–æ–ª–ª "${excelRoll.name}"',
  imageUrl: 'https://images.pexels.com/photos/357756/pexels-photo-357756.jpeg',
  category: '–†–æ–ª–ª—ã',
  isPopular: excelRoll.id <= 10, // –ü–µ—Ä–≤—ã–µ 10 —Ä–æ–ª–ª–æ–≤ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ
  isNew: excelRoll.id > 20,      // –†–æ–ª–ª—ã —Å ID > 20 –Ω–æ–≤—ã–µ
  rating: 4.0 + (excelRoll.id % 10) * 0.1,
  preparationTime: 10 + (excelRoll.id % 15),
  originalPrice: excelRoll.salePrice,
  discount: 0.0,
);
```

### 3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ AppSet

```dart
// –ò–∑ ExcelSet –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è AppSet
final appSet = AppSet.fromExcelData(
  id: excelSet.id,
  name: excelSet.name,
  setPrice: excelSet.setPrice,
  discountPercent: excelSet.discountPercent,
  rolls: rolls, // –°–ø–∏—Å–æ–∫ —Ä–æ–ª–ª–æ–≤ –∏–∑ —Å–æ—Å—Ç–∞–≤–∞ —Å–µ—Ç–∞
  isPopular: excelSet.id <= 5, // –ü–µ—Ä–≤—ã–µ 5 —Å–µ—Ç–æ–≤ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ
);
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ä–æ–ª–ª–æ–≤

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `assets/data/rolls.csv`
2. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É —Å –¥–∞–Ω–Ω—ã–º–∏:
   ```csv
   24,–ù–æ–≤—ã–π —Ä–æ–ª–ª,150,145.50
   ```
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å–µ—Ç–æ–≤

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `assets/data/sets.csv`
2. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É —Å –¥–∞–Ω–Ω—ã–º–∏:
   ```csv
   13,–ù–æ–≤—ã–π —Å–µ—Ç,500.0,2000,1500,25.0,1000.0,200.0
   ```
3. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `assets/data/set_composition.csv`
4. –î–æ–±–∞–≤—å—Ç–µ —Å–æ—Å—Ç–∞–≤ —Å–µ—Ç–∞:
   ```csv
   13,1,–ö–∞–ª–∏—Ñ–æ—Ä–Ω–∏—è
   13,2,–§–∏–ª–∞–¥–µ–ª—å—Ñ–∏—è
   ```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π CSV —Ñ–∞–π–ª
2. –ò–∑–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –∫–æ–ª–æ–Ω–∫–µ `sale_price` (–¥–ª—è —Ä–æ–ª–ª–æ–≤) –∏–ª–∏ `set_price` (–¥–ª—è —Å–µ—Ç–æ–≤)
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

## üì± –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

### –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω
- **–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ä–æ–ª–ª—ã**: –ø–µ—Ä–≤—ã–µ 8 —Ä–æ–ª–ª–æ–≤ –∏–∑ CSV
- **–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Å–µ—Ç—ã**: –ø–µ—Ä–≤—ã–µ 6 —Å–µ—Ç–æ–≤ –∏–∑ CSV
- **–ë–∞–Ω–Ω–µ—Ä—ã**: —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ (–º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ)

### –ú–µ–Ω—é
- **–í—Å–µ —Ä–æ–ª–ª—ã**: –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ `rolls.csv`
- **–ü–æ–∏—Å–∫**: —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é —Ä–æ–ª–ª–∞
- **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è**: –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º (–≤—Å–µ —Ä–æ–ª–ª—ã –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ "–†–æ–ª–ª—ã")

### –î–µ—Ç–∞–ª–∏ –ø—Ä–æ–¥—É–∫—Ç–∞
- **–¶–µ–Ω–∞**: –±–µ—Ä–µ—Ç—Å—è –∏–∑ `sale_price` (—Ä–æ–ª–ª—ã) –∏–ª–∏ `set_price` (—Å–µ—Ç—ã)
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–∑–≤–∞–Ω–∏—è
- **–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è**: –±–∞–∑–æ–≤—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ)

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

1. **–ê–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å**: —Ü–µ–Ω—ã –∏ —Å–æ—Å—Ç–∞–≤ –≤—Å–µ–≥–¥–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ä–µ–∞–ª—å–Ω–æ–º—É –º–µ–Ω—é
2. **–ì–∏–±–∫–æ—Å—Ç—å**: –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å/—É–¥–∞–ª—è—Ç—å –ø–æ–∑–∏—Ü–∏–∏
3. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ç—ã—Å—è—á–∏ –ø–æ–∑–∏—Ü–∏–π
4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –¥–∞–Ω–Ω—ã–µ –º–æ–∂–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏
5. **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞**: –º–æ–∂–Ω–æ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–¥–∞–∂–∏ –∏ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å

## üö® –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **CSV —Ñ–∞–π–ª—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ –∫–æ–¥–∏—Ä–æ–≤–∫–µ UTF-8**
2. **–†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –ø–æ–ª–µ–π**: `;` –¥–ª—è —Ä–æ–ª–ª–æ–≤, `,` –¥–ª—è —Å–µ—Ç–æ–≤
3. **–ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞**: –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è)
4. **–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è**: `id`, `name`, `sale_price` –¥–ª—è —Ä–æ–ª–ª–æ–≤
5. **–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫**: –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è CSV —Ñ–∞–π–ª–æ–≤ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

## üîÆ –ü–ª–∞–Ω—ã –Ω–∞ –±—É–¥—É—â–µ–µ

- [ ] –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏–∑ API
- [ ] –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ —É—á–µ—Ç–∞
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω
- [ ] –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø—Ä–æ–¥–∞–∂ –∏ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏
- [ ] –°–∏—Å—Ç–µ–º–∞ –æ—Ç–∑—ã–≤–æ–≤ –∏ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤
- [ ] –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –ø–æ —Ä–∞–±–æ—Ç–µ —Å –¥–∞–Ω–Ω—ã–º–∏ –∏–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π, —Å–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.
